<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Capital Annex Bank â€” Dashboard</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header class="navbar">
    <div class="container nav-content">
      <h1 class="logo">Capital Annex Bank</h1>
      <nav class="nav">

  <div class="dropdown" id="profileMenu">
    <a href="profile.html">Profile</a>
    <a href="#">Transactions</a>
    <a href="#">Logout</a>
  </div>
</nav>

    </div>
  </header>



<body>
      <hr>
      <h2>Send Money</h2>

  <form id="sendForm">
    <input type="text" placeholder="Recipient Name" required>
    <input type="text" placeholder="Bank Name" required>
    <input type="text" placeholder="Account Number" required>
    <input type="text" placeholder="Address" required>
    <input type="number" placeholder="Amount" required>
    <button type="submit">Continue</button>
  </form>
</body>
</html>


<hr>
<hr>

<a href="dashboard.html" class="btn-primary">BACK</a>
<style>
.btn-send{
  display:inline-block;
  padding:12px 20px;
  border-radius:14px;
  background:linear-gradient(135deg,#0f255b,#1c63ff);
  color:#fff;
  font-weight:700;
  text-decoration:none;
  letter-spacing:.3px;
  position:relative;
  box-shadow:
    0 14px 0 #0a1a41,        /* base 3D edge */
    0 22px 25px rgba(0,0,0,.25);
  transition:transform .2s ease, box-shadow .2s ease;
}

/* subtle glossy top highlight */
.btn-send::before{
  content:"";
  position:absolute;
  inset:3px 3px auto 3px;
  height:45%;
  border-radius:10px;
  background:linear-gradient(180deg,rgba(255,255,255,.35),rgba(255,255,255,0));
  pointer-events:none;
}

/* deeper rim */
.btn-send::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:14px;
  box-shadow:inset 0 0 10px rgba(0,0,0,.35);
  pointer-events:none;
}

.btn-send:hover{
  transform:translateY(-4px);
  box-shadow:
    0 18px 0 #0a1a41,
    0 28px 30px rgba(0,0,0,.28);
}

.btn-send:active{
  transform:translateY(3px);
  box-shadow:
    0 8px 0 #0a1a41,
    0 16px 18px rgba(0,0,0,.22);
}

</style>

<script>
document.getElementById("sendForm").addEventListener("submit", async (e)=>{
  e.preventDefault();

  const user = JSON.parse(localStorage.getItem("user"));

  const toEmail = e.target.toEmail.value;
  const amount = Number(e.target.amount.value);

  const res = await fetch("http://localhost:4000/api/send", {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({ fromId: user.id, toEmail, amount })
  });

  const data = await res.json();

  if(res.ok){
    alert("Money sent!");
  } else {
    alert(data.message);
  }
});
</script>
